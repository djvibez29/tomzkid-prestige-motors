{% extends "base.html" %}
{% block content %}

<h1>Tomzkid Prestige Motors</h1>
<p>Luxury Automotive Marketplace</p>

<hr>

<!-- Price Filter Form -->
<form method="get">
    <label>Min Price ($): <input type="number" name="min_price" value="{{ request.args.get('min_price', '') }}"></label>
    <label>Max Price ($): <input type="number" name="max_price" value="{{ request.args.get('max_price', '') }}"></label>
    <button type="submit">Filter</button>
</form>

<hr>

{% if cars %}
  <div class="car-grid">
  {% for car in cars %}
    <div class="car-card">
        <h3>{{ car.name }}</h3>
        {% if car.brand %}
            <p><strong>Brand:</strong> {{ car.brand }}</p>
        {% endif %}
        <img src="{{ url_for('static', filename='uploads/' ~ car.image) }}" width="350" loading="lazy">
        <p><strong>Price:</strong> ${{ car.price_usd }}</p>
        <p><strong>Miles:</strong> {{ car.miles }}</p>
        <p>{{ car.description }}</p>
    </div>
  {% endfor %}
  </div>
{% else %}
  <p>No vehicles listed yet.</p>
{% endif %}

{% endblock %}
