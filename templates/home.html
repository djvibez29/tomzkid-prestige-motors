{% extends "base.html" %}
{% block content %}

<h1 class="page-title">Luxury Inventory</h1>

<div class="car-grid">

  {% for car in cars.items %}

  <a href="{{ url_for('car_page', car_id=car.id) }}" class="car-card">

    {% if car.images and car.images[0] %}
      <img
        src="{{ url_for('static', filename='uploads/cars/' + car.images[0].filename) }}"
        alt="{{ car.title }}"
      >
    {% else %}
      <img
        src="{{ url_for('static', filename='img/no-image.png') }}"
        alt="No image"
      >
    {% endif %}

    <div class="card-body">

      <h3>{{ car.title }}</h3>

      <p class="brand">{{ car.brand }}</p>

      <p class="price">₦{{ "{:,}".format(car.price or 0) }}</p>

    </div>

  </a>

  {% else %}
    <p>No vehicles available yet.</p>
  {% endfor %}

</div>

<!-- ================= PAGINATION ================= -->

<div class="pagination">

  {% if cars.has_prev %}
    <a href="?page={{ cars.prev_num }}">← Prev</a>
  {% endif %}

  <span>Page {{ cars.page }} of {{ cars.pages }}</span>

  {% if cars.has_next %}
    <a href="?page={{ cars.next_num }}">Next →</a>
  {% endif %}

</div>

{% endblock %}
