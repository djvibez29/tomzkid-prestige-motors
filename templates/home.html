{% extends "base.html" %}

{% block content %}

<div class="container">

  <h2 class="page-title">Available Vehicles</h2>

  <div class="cars-grid">

    {% for car in cars %}

      <a href="{{ url_for('car_page', car_id=car.id) }}" class="car-card">

        <div class="car-image">

          {% if car.images and car.images|length > 0 %}
            <img
              src="{{ url_for('static', filename='uploads/cars/' ~ car.images[0].filename) }}"
              alt="{{ car.title }}"
            >
          {% else %}
            <img
              src="{{ url_for('static', filename='img/no-image.png') }}"
              alt="No image"
            >
          {% endif %}

        </div>

        <div class="car-info">

          <h3>{{ car.title }}</h3>

          <p class="brand">{{ car.brand }} • {{ car.model }}</p>

          <p class="price">
            {% if car.price %}
              ₦{{ "{:,}".format(car.price|int) }}
            {% else %}
              Price on request
            {% endif %}
          </p>

        </div>

      </a>

    {% endfor %}

  </div>

</div>

{% endblock %}
