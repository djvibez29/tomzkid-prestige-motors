{% extends "base.html" %}

{% block content %}

<h2>Global Marketplace</h2>

<form method="GET">

    <input type="text" name="search" placeholder="Search brand or model">

    <input type="number" name="min_price" placeholder="Min Price">

    <input type="number" name="max_price" placeholder="Max Price">

    <button type="submit">Search</button>

</form>

<div class="vehicle-grid">

{% for vehicle in vehicles.items %}

<a href="/vehicle/{{ vehicle.id }}" class="vehicle-card">

    {% if vehicle.image_url %}
        <img src="{{ vehicle.image_url }}" class="vehicle-img">
    {% endif %}

    <h3>{{ vehicle.brand }} {{ vehicle.model }}</h3>

    <p>${{ "{:,}".format(vehicle.price) }}</p>

    <p>{{ vehicle.year }}</p>

</a>

{% endfor %}

</div>


<div class="pagination">

{% if vehicles.has_prev %}
<a href="?page={{ vehicles.prev_num }}">Prev</a>
{% endif %}

Page {{ vehicles.page }} of {{ vehicles.pages }}

{% if vehicles.has_next %}
<a href="?page={{ vehicles.next_num }}">Next</a>
{% endif %}

</div>

{% endblock %}
