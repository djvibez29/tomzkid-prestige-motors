{% extends "base.html" %}

{% block content %}

<section class="hero">
    <h1>Tomzkid Prestige Motors</h1>
    <p>Ultra-Luxury Automotive Marketplace</p>

    <!-- SEARCH BAR -->
    <form method="get" class="search-form">
        <input
            type="text"
            name="search"
            placeholder="Search by brand, model, keyword..."
            value="{{ search }}"
        >
        <button type="submit">Search</button>
    </form>
</section>

<hr>

{% if cars %}

<div class="car-grid">

    {% for car in cars %}
    <a href="{{ url_for('car_detail', car_id=car.id) }}" class="car-card">

        <img
            src="{{ url_for('static', filename='uploads/' ~ car.image) }}"
            loading="lazy"
        >

        <h3>{{ car.brand }} {{ car.name }}</h3>

        <p class="price">
            ${{ "{:,}".format(car.price_usd) }}
        </p>

        <p class="miles">
            {{ "{:,}".format(car.miles) }} miles
        </p>

        <p class="desc-preview">
            {{ car.description[:120] }}...
        </p>

        <span class="view-btn">View Details</span>

    </a>
    {% endfor %}

</div>

{% else %}
    <p>No vehicles found.</p>
{% endif %}

{% endblock %}
