{% extends "base.html" %}
{% block content %}

<h2>Admin Dashboard</h2>
<a href="/logout">Logout</a>

<hr>

<form method="post" enctype="multipart/form-data">

  <label>Brand</label><br>
  <select name="brand">
    <option value="">-- Select Brand --</option>
    <option>Bentley</option>
    <option>Rolls-Royce</option>
    <option>Ferrari</option>
    <option>Lamborghini</option>
    <option>Porsche</option>
    <option>Mercedes-Benz</option>
    <option>BMW</option>
    <option>McLaren</option>
  </select>

  <br><br>

  <input name="custom_brand" placeholder="Other brand (optional)"><br><br>

  <input name="name" placeholder="Model name" required><br><br>

  <input name="year" type="number" placeholder="Year" required><br><br>

  <label>Body Type</label><br>
  <select name="body_type">
    <option>Sedan</option>
    <option>Coupe</option>
    <option>Convertible</option>
    <option>SUV</option>
    <option>Off-Road</option>
    <option>Hypercar</option>
  </select>

  <br><br>

  <input name="mileage_miles" type="number" placeholder="Mileage (miles)" required><br><br>

  <input name="price_usd" type="number" placeholder="Price ($)" required><br><br>

  <input name="transmission" placeholder="Transmission"><br><br>

  <input name="drivetrain" placeholder="Drivetrain"><br><br>

  <input name="engine" placeholder="Engine"><br><br>

  <textarea name="description" placeholder="Description"></textarea><br><br>

  <input type="file" name="image" required><br><br>

  <button type="submit">Add Car</button>

</form>

<hr>

<h3>Current Listings</h3>

{% for car in cars %}
  <div>
    <p><strong>{{ car.brand or car.custom_brand }} {{ car.name }}</strong></p>
    <p>{{ car.year }} • {{ car.body_type }} • {{ car.mileage_miles }} miles</p>
    <p>${{ car.price_usd }}</p>
    <img src="/static/uploads/{{ car.image }}" width="250">
  </div>
  <hr>
{% endfor %}

{% endblock %}
