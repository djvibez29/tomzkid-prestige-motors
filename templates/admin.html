<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <h1>Admin Dashboard</h1>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <h2>Publish Vehicle</h2>
    <form method="POST" enctype="multipart/form-data">
        <input type="text" name="title" placeholder="Vehicle Title" required><br>
        <input type="text" name="brand" placeholder="Brand" required><br>
        <input type="text" name="price" placeholder="Price in $" required><br>
        <textarea name="description" placeholder="Description"></textarea><br>
        <input type="file" name="image" accept="image/*"><br>
        <button type="submit">Publish</button>
    </form>

    <h2>Existing Vehicles</h2>
    <ul>
        {% for car in cars %}
        <li>
            <strong>{{ car.title }}</strong> - {{ car.brand }} - ${{ "{:,.2f}".format(car.price) }}
            {% if car.image_filename %}
            <br><img src="{{ url_for('static', filename='uploads/cars/' + car.image_filename) }}" width="200">
            {% endif %}
        </li>
        {% endfor %}
    </ul>
</body>
</html>
